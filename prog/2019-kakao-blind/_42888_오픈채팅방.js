/**
 * ì˜¤í”ˆì±„íŒ…ë°©ì€ ê°€ìƒì˜ ë‹‰ë„¤ì„ì„ ì‚¬ìš©í•˜ì—¬ ì±„íŒ…ë°©ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.
 * ì±„íŒ…ë°©ì„ ê°œì„¤í•œ ì‚¬ëŒì„ ìœ„í•´, ê´€ë¦¬ìì°½ì„ ë§Œë“¤ê¸°ë¡œ í–ˆë‹¤.
 * ê´€ë¦¬ìì°½ì—ëŠ” ì±„íŒ…ë°©ì— ëˆ„êµ°ê°€ ë“¤ì–´ì˜¤ê±°ë‚˜ ë‚˜ê°ˆ ë•Œ ë©”ì‹œì§€ê°€ ì¶œë ¥ëœë‹¤.
 * > [ë‹‰ë„¤ì„] ë©”ì‹œì§€
 *
 * ì±„íŒ…ë°©ì—ì„œ ë‹‰ë„¤ì„ì„ ë³€ê²½í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 * - ì±„íŒ…ë°©ì„ ë‚˜ê°„ í›„, ìƒˆë¡œìš´ ë‹‰ë„¤ì„ìœ¼ë¡œ ë‹¤ì‹œ ë“¤ì–´ê°„ë‹¤.
 * - ì±„íŒ…ë°©ì—ì„œ ë‹‰ë„¤ì„ì„ ë³€ê²½í•œë‹¤.
 *
 * ì´ë•Œ, ë‹‰ë„¤ì„ì„ ë³€ê²½í•˜ë©´ ê¸°ì¡´ì— ì±„íŒ…ë°©ì— ì¶œë ¥ë˜ì–´ ìˆë˜ ë©”ì‹œì§€ì˜ ë‹‰ë„¤ì„ë„ ë³€ê²½ëœë‹¤.
 *
 * ë‹‰ë„¤ì„ì€ ì•ŒíŒŒë²³ ëŒ€ë¬¸ì, ì†Œë¬¸ìë¥¼ êµ¬ë³„í•œë‹¤.
 * ë˜í•œ ì¤‘ë³µ ë‹‰ë„¤ì„ì„ í—ˆìš©í•œë‹¤.
 *
 * @param {*} record ê¸°ë¡ì´ ë‹´ê¸´ ë¬¸ìì—´ ë°°ì—´ (1 ~ 100_000)
 *                   [${type} ${ìœ ì € ì•„ì´ë””} ${ë‹‰ë„¤ì„}]
 * @returns ëª¨ë“  ê¸°ë¡ì´ ì²˜ë¦¬ëœ í›„, ìµœì¢…ì ìœ¼ë¡œ ë³´ê²Œ ë˜ëŠ” ë©”ì‹œì§€
 *
 * ### ë¦¬ë·°
 * - í’€ì´ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 *   recordë¥¼ ìˆœíšŒí•˜ì—¬,
 *   ìœ ì € ì•„ì´ë””ì— ëŒ€í•œ ë‹‰ë„¤ì„ì„ Map ê°ì²´ì— ì €ì¥í•œë‹¤.
 *   ì´ë•Œ Map ê°ì²´ì— ë‚¨ëŠ” ìœ ì € ì•„ì´ë””ì— ëŒ€í•œ ë‹‰ë„¤ì„ì€ ëª¨ë“  ê¸°ë¡ì„ ì²˜ë¦¬í•œ í›„ì˜ ìµœì¢… ë‹‰ë„¤ì„ì´ ëœë‹¤.
 *
 *   ê·¸ ë‹¤ìŒ, recordë¥¼ ë‹¤ì‹œ ìˆœíšŒí•˜ì—¬,
 *   "Enter"ì™€ "Leave" íƒ€ì…ì— ëŒ€í•œ ë©”ì‹œì§€ë¥¼ ìƒì„±í•˜ì—¬ ì¶œë ¥í•œë‹¤.
 *
 * - Map ê°ì²´ë¥¼ í™œìš©í•˜ë©´ ì‰½ê²Œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì˜€ë‹¤! ğŸ¤—
 */

function solution(record) {
    record = record.map(record => record.split(' '));

    const users = new Map();
    record.forEach(([, userId, nickname]) => {
        if (nickname) users.set(userId, nickname);
    });

    const [ENTER, LEAVE] = ['Enter', 'Leave'];
    const messages = record.filter(([type]) => [ENTER, LEAVE].includes(type));
    return messages.map(([type, userId]) =>
        printMessage(type, users.get(userId)),
    );

    function printMessage(type, nickname) {
        if (type === ENTER) return `${nickname}ë‹˜ì´ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.`;
        if (type === LEAVE) return `${nickname}ë‹˜ì´ ë‚˜ê°”ìŠµë‹ˆë‹¤.`;
    }
}

/****** TEST CASE *******/

console.log(
    solution([
        'Enter uid1234 Muzi',
        'Enter uid4567 Prodo',
        'Leave uid1234',
        'Enter uid1234 Prodo',
        'Change uid4567 Ryan',
    ]),
);
