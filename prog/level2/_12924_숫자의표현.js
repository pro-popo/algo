/**
 * ìžì—°ìˆ˜ nì„ ì—°ì†í•œ ìžì—°ìˆ˜ë“¤ë¡œ í‘œí˜„í•˜ëŠ” ë°©ë²•ì´ ì—¬ëŸ¬ê°œê°€ ì¡´ìž¬í•œë‹¤.
 * ì˜ˆë¡œ 15ëŠ”,
 * - 1 + 2 + 3 + 4 + 5 = 15
 * - 4 + 5 + 6 = 15
 * - 7 + 8 = 15
 * - 15 = 15
 * ë¡œ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤.
 *
 * ì—°ì†ëœ ìžì—°ìˆ˜ë“¤ë¡œ nì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì˜ ìˆ˜ë¥¼ êµ¬í•˜ìž.
 *
 * @param {number} n - ìžì—°ìˆ˜ (1~10,000)
 * @returns ì—°ì†ëœ ìžì—°ìˆ˜ë“¤ë¡œ nì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì˜ ìˆ˜
 *
 * ### ë¦¬ë·°
 * - í’€ì´ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 *   ë¨¼ì € 0~nì— ëŒ€í•œ ë°°ì—´ì„ ìƒì„±í•œë‹¤.
 *   ê·¸ë¦¬ê³  í•´ë‹¹ ë°°ì—´ì˜ ëˆ„ì í•©(prefix sum)ì„ êµ¬í•œë‹¤.
 *
 *   êµ¬ê°„ì˜ í•©ì´ nì¸ ê²½ìš°ë¥¼ ì°¾ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
 *   ë‘ ê°œì˜ í¬ì¸í„°(start, end)ë¥¼ ì¤€ë¹„í•œë‹¤.
 *   (0, 0)ì—ì„œ ì‹œìž‘í•˜ì—¬, start ~ end êµ¬ê°„ì˜ í•©ì„ êµ¬í•œë‹¤.
 *   ì´ë•Œ start ~ end êµ¬ê°„ì˜ í•©ì€ sum[end] - sum[start]ì´ë‹¤.
 *
 *   ë§Œì•½ êµ¬ê°„ì˜ í•©ì´ në³´ë‹¤ í¬ê±°ë‚˜ ê°™ì„ ê²½ìš° start++ì„,
 *   në³´ë‹¤ ìž‘ì„ ê²½ìš° end++ì„ í•´ì¤€ë‹¤.
 *   endê°€ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë„˜ì–´ê°ˆ ë•Œê¹Œì§€ ìœ„ì˜ ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.
 *   ì´ ê³¼ì •ì—ì„œ êµ¬ê°„ì˜ í•©ì´ nì¸ ê²½ìš°ë¥¼ ì„¼ ë’¤ ë°˜í™˜í•œë‹¤.
 *
 * - ë‹¤ë¥¸ í’€ì´ ë°©ì‹ìœ¼ë¡œëŠ”,
 *   1ë¶€í„° nê¹Œì§€ ìˆœíšŒí•˜ì—¬
 *   iê°€ nì˜ ì•½ìˆ˜ì´ê³  í™€ìˆ˜(n%i == 0 && i%2 == 1)ì¸ ê²½ìš°ë¥¼ ì¹´ìš´íŠ¸í•˜ë©´ ëœë‹¤. ðŸ˜±
 */

function solution(n) {
    const numbers = [...Array(n)].map((_, i) => i + 1);
    const prefix = prefixSum(numbers);

    let [start, end] = [0, 0];
    let answer = 0;
    while (end < prefix.length) {
        const sum = prefix[end] - prefix[start];
        if (sum === n) answer++;

        if (sum >= n) start++;
        else end++;
    }

    return answer;
}

function prefixSum(numbers) {
    const arr = [0, ...numbers];
    for (let i = 1; i < arr.length; i++) {
        arr[i] += arr[i - 1];
    }
    return arr;
}

/****** TEST CASE *******/

console.log(solution(15));
console.log(solution(3));
console.log(solution(4));
